{
  "jikey": {
    "version": "1.0",
    "project": "linux-setup",
    "domains": [
      "ls.r-u.live"
    ],
    "environments": {
      "production": {
        "domain": "ls.r-u.live",
        "branch": "main",
        "protection": {
          "required_reviews": 1,
          "required_checks": ["validate", "build"]
        }
      },
      "staging": {
        "domain": "staging.ls.r-u.live",
        "branch": "develop",
        "auto_deploy": true
      }
    },
    "security": {
      "headers": true,
      "csp": "default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self'",
      "xss_protection": true,
      "content_type_options": true,
      "frame_options": "DENY"
    },
    "build": {
      "command": "jekyll build",
      "output_dir": "_site"
    },
    "scripts": {
      "server": {
        "path": "setup-server/setup.sh",
        "validation": "bash -n"
      },
      "mail": {
        "path": "setup-mail/setup-mail.sh",
        "validation": "bash -n"
      },
      "dns": {
        "path": "setup-dns/setup-dns.sh",
        "validation": "bash -n"
      },
      "quickinstall": {
        "path": "sh/s1.sh",
        "validation": "bash -n",
        "onelineCommand": "curl -sSL ls.r-u.live/sh/s1.sh | sudo bash"
      },
      "windows": {
        "path": "sh/windows-setup.ps1",
        "validation": "pwsh -c \"Test-Script -Path '%PATH%'\"",
        "onelineCommand": "iwr -useb ls.r-u.live/sh/windows-setup.ps1 | iex"
      },
      "dns-quick": {
        "path": "sh/setup-dns-quick.sh",
        "validation": "bash -n",
        "onelineCommand": "curl -sSL ls.r-u.live/sh/setup-dns-quick.sh | sudo bash"
      },
      "mail-quick": {
        "path": "sh/setup-mail-quick.sh",
        "validation": "bash -n",
        "onelineCommand": "curl -sSL ls.r-u.live/sh/setup-mail-quick.sh | sudo bash"
      },
      "windows-dns": {
        "path": "sh/windows-dns-setup.ps1",
        "validation": "pwsh -c \"Test-Script -Path '%PATH%'\"",
        "onelineCommand": "iwr -useb ls.r-u.live/sh/windows-dns-setup.ps1 | iex"
      },
      "windows-mail": {
        "path": "sh/windows-mail-setup.ps1",
        "validation": "pwsh -c \"Test-Script -Path '%PATH%'\"",
        "onelineCommand": "iwr -useb ls.r-u.live/sh/windows-mail-setup.ps1 | iex"
      }
    },
    "onelineInstalls": {
      "enabled": true,
      "endpoints": [
        {
          "path": "/sh/s1.sh",
          "contentType": "text/plain",
          "description": "Basic server setup script"
        },
        {
          "path": "/sh/windows-setup.ps1",
          "contentType": "text/plain",
          "description": "Windows server setup script"
        },
        {
          "path": "/sh/setup-dns-quick.sh",
          "contentType": "text/plain",
          "description": "DNS server setup script"
        },
        {
          "path": "/sh/setup-mail-quick.sh",
          "contentType": "text/plain",
          "description": "Mail server setup script"
        },
        {
          "path": "/sh/windows-dns-setup.ps1",
          "contentType": "text/plain",
          "description": "Windows DNS server setup script"
        },
        {
          "path": "/sh/windows-mail-setup.ps1",
          "contentType": "text/plain",
          "description": "Windows mail server setup script"
        }
      ],
      "statistics": {
        "track": true,
        "anonymize": true
      }
    },
    "monitoring": {
      "enabled": true,
      "endpoints": [
        {
          "path": "/health",
          "responseCode": 200,
          "responseBody": "{\"status\":\"ok\"}"
        },
        {
          "path": "/version",
          "responseCode": 200,
          "responseBody": "{\"version\":\"1.0\",\"lastUpdated\":\"2025-09-07\"}"
        }
      ],
      "alerts": {
        "email": "admin@ls.r-u.live",
        "threshold": 95,
        "downtime": 300
      }
    },
    "cache": {
      "staticAssets": {
        "maxAge": 86400,
        "patterns": [
          "*.css",
          "*.js",
          "*.jpg",
          "*.png",
          "*.svg"
        ]
      },
      "scripts": {
        "maxAge": 3600,
        "patterns": [
          "sh/*.sh",
          "sh/*.ps1"
        ]
      }
    }
  }
}
